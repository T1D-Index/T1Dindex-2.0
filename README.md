# T1Dindex-2.0  
# T1D index-2.0
Access dashboard ,  download t1dindex data here : https://t1dindex.shinyapps.io/dashboard/


## Overview
This repository contains an R-based implementation for reading and processing national partition data using a tensor refresh function. The project leverages libraries such as `arrow`, `dplyr`, `data.table`, and others to manage input data, perform computations, and generate output based on a tensor refresh model.

The main functionality revolves around reading national partition data, processing it using custom functions, and generating a refreshed dataset.

## Features
- **Data Processing**: Handles the reading of partitioned national input data files using the Arrow package.
- **Tensor Refresh**: Applies custom tensor refresh functions to generate output from the provided input data.
- **Utilities**: Supports various utility functions for data management and processing.

## Prerequisites
Make sure the following R libraries are installed before running the code:
- `arrow`
- `data.table`
- `dplyr`
- `abind`
- `stringr`

To install them, you can run the following commands in your R console:
```R
install.packages(c("arrow", "data.table", "dplyr", "abind", "stringr"))
```

## Project Structure
The key components of the project are:
- **R Script Files**:
  - `refresh_country_files_tensor.R`: Main tensor refresh logic.
  - `refresh_country_files_tensor_utils.R`: Utility functions supporting the tensor operations.
  - `utils.R`: General utility functions used across the project.
  - `data.R`: Data-related utility functions.
  
- **Input Data**:
  - Located in the `data_prep_temp/inputs_national_v_2_0/` directory, specifically partitioned as `partition_1`.
  
- **Output Data**:
  - The result is generated by running the tensor refresh functions on the input data.

## Usage
1. Clone the repository:
   ```bash
   git clone <repo-url>
   ```
2. Ensure that all dependencies are installed.

3. Load the necessary libraries:
   ```R
   library(arrow)
   library(data.table)
   library(dplyr)
   library(abind)
   library(stringr)
   ```

4. Source the required functions:
   ```R
   source("code_R/refresh_country_files_tensor.R")
   source("code_R/refresh_country_files_tensor_utils.R")
   source("code_R/utils.R")
   source("code_R/data.R")
   ```

5. Read the input data:
   ```R
   index_data_input <- setDF(arrow::read_feather("data_prep_temp/inputs_national_v_2_0/partition_1"))
   ```

6. Run the tensor refresh process:
   ```R
   index_data_output <- refresh_country_files_tensor(index_data_input, sim_enable=FALSE)
   ```

## License
This project is licensed under the MIT License - see the LICENSE file for details.

